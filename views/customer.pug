extends layout

block content
  h1= title
  - var dateFormat = { year: "numeric", month: "2-digit", day: "2-digit" };
  h4.
    #{ "Customer #" + customer.customerNumber }
  div
    div= customer.addressLine1
    div= customer.addressLine2
    div= customer.city + ", " + customer.state + "  " + customer.postalCode
    div= customer.country
  br/
  div
    table
      thead
        th Contact
        th(align='center') Phone
        th(align='center') Sales Rep
        th(align='center') Office
      tbody
          tr
            td
              span #{ customer.contactFirstName + " " + customer.contactLastName}
            td
              span #{customer.phone}
            td
              | #{customer.salesRepName} (
              a(href=customer.hrefSalesRep) #{customer.salesRepEmployeeNumber}
              | )
            td
              a(href=customer.hrefOffice) #{customer.officeCity}
    br
    hr
    h4 Orders
    hr
    div
      table
        thead
          th(align='left') Order #
          th Order Date
          th Status
        tbody
          each order, i in customer.customerOrders
            tr
              td(align='left')
                a(href=order.href) #{order.orderNumber}
              td.
                #{order.orderDate.toLocaleDateString("en-US", dateFormat)}
              td.
                #{order.status}
    br
    hr
    h4 Payments
    hr
    div
      table
        thead
          th(align='left') Check #
          th Payment Date
          th Amount
        tbody
          each payment, i in customer.customerPayments
            tr
              td(align='left')
                a(href=payment.href) #{payment.checkNumber}
              td.
                #{payment.paymentDate.toLocaleDateString("en-US", dateFormat)}
              td(align='right') #{payment.amountFormatted}